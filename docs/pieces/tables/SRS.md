# The SRS Padding/Limit Table

## Laid out

```
Position    Position    Padding     Limits

            -- THE I PIECE --

0 0 0 0     1 1 1 1
1 1 1 1     . . . .     H:  0       6
0 0 0 0     . . . .     V:  1       4
0 0 0 0     . . . .

0 0 1 0     1 . . .
0 0 1 0     1 . . .     H:  2       7
0 0 1 0     1 . . .     V:  0       2
0 0 1 0     1 . . .

0 0 0 0     1 1 1 1
0 0 0 0     . . . .     H:  0       6
1 1 1 1     . . . .     V:  2       3
0 0 0 0     . . . .

0 1 0 0     1 . . .
0 1 0 0     1 . . .     H:  1       8
0 1 0 0     1 . . .     V:  0       2
0 1 0 0     1 . . .

            -- THE J PIECE --

1 0 0       1 . .       H:  0       7
1 1 1       1 1 1       V:  0       4
0 0 0       . . .

0 1 1       1 1 .       H:  1       7
0 1 0       1 . .       V:  0       3
0 1 0       1 . .

0 0 0       1 1 1       H:  0       7
1 1 1       . . 1       V:  1       3
0 0 1       . . .

0 1 0       . 1 .       H:  0       8
0 1 0       . 1 .       V:  0       3
1 1 0       1 1 .

            -- THE L PIECE --

0 0 1       . . 1       H:  0       7
1 1 1       1 1 1       V:  0       4
0 0 0       . . .

0 1 0       1 . .       H:  1       7
0 1 0       1 . .       V:  0       3
0 1 1       1 1 .

0 0 0       1 1 1       H:  0       7
1 1 1       1 . .       V:  1       3
1 0 0       . . .

1 1 0       1 1 .       H:  0       8
0 1 0       . 1 .       V:  0       3
0 1 0       . 1 .

            -- THE O PIECE --

1 1         1 1         H:  0       8
1 1         1 1         B:  0       4

            -- THE S PIECE --

0 1 1       . 1 1       H:  0       7
1 1 0       1 1 .       V:  0       4
0 0 0       . . .

0 1 0       1 . .       H:  1       7
0 1 1       1 1 .       V:  0       3
0 0 1       . 1 .

0 0 0       . 1 1       H:  0       7
0 1 1       1 1 .       V:  1       3
1 1 0       . . .

1 0 0       1 . .       H:  0       8
1 1 0       1 1 .       V:  0       3

            -- THE T PIECE --

0 1 0       . 1 .       H:  0       7
1 1 1       1 1 1       V:  0       4
0 0 0       . . .

0 1 0       1 . .       H:  1       7
0 1 1       1 1 .       V:  0       3
0 1 0       1 . .

0 0 0       1 1 1       H:  0       7
1 1 1       . 1 .       V:  1       3
0 1 0       . . .

0 1 0       . 1 .       H:  0       8
1 1 0       1 1 .       V:  0       3
0 1 0       . 1 .

            -- THE Z PIECE --

1 1 0       1 1 .       H:  0       7
0 1 1       . 1 1       V:  0       4
0 0 0       . . .

0 0 1       . 1 .       H:  1       7
0 1 1       1 1 .       V:  0       3
0 1 0       1 . .

0 0 0       1 1 .       H:  0       7
1 1 0       . 1 1       V:  1       3
0 1 1       . . .

0 1 0       . 1 .       H:  0       8
1 1 0       1 1 .       V:  0       3
1 0 0       1 . .
```

## Compacted:

| Piece  | Memory word[1]       | HVpad | HVlim |
| ------ | -------------------- | ----- | ----- |
| `I[0]` | `0x0f00000000000000` | 0 / 1 | 6 / 4 |
| `I[1]` | `0x0802008020000000` | 2 / 0 | 7 / 2 |
| `I[2]` | `0x0f00000000000000` | 0 / 2 | 6 / 3 |
| `I[3]` | `0x0802008020000000` | 1 / 0 | 8 / 2 |
| `J[0]` | `0x040100c000000000` | 0 / 0 | 7 / 4 |
| `J[1]` | `0x0203800000000000` | 1 / 0 | 7 / 3 |
| `J[2]` | `0x0b02008000000000` | 0 / 1 | 7 / 3 |
| `J[3]` | `0x0e00800000000000` | 0 / 0 | 8 / 3 |
| `L[0]` | `0x0203800000000000` | 0 / 0 | 7 / 4 |
| `L[1]` | `0x080200c000000000` | 1 / 0 | 7 / 3 |
| `L[2]` | `0x0e02000000000000` | 0 / 1 | 7 / 3 |
| `L[3]` | `0x0c01004000000000` | 0 / 0 | 8 / 3 |
| `O[0]` | `0x0c03000000000000` | 0 / 0 | 8 / 4 |
| `S[0]` | `0x0603000000000000` | 0 / 0 | 7 / 4 |
| `S[1]` | `0x0803004000000000` | 1 / 0 | 7 / 3 |
| `S[2]` | `0x0603000000000000` | 0 / 1 | 7 / 3 |
| `S[3]` | `0x0803004000000000` | 0 / 0 | 8 / 3 |
| `T[0]` | `0x0403800000000000` | 0 / 0 | 7 / 4 |
| `T[1]` | `0x0803008000000000` | 1 / 0 | 7 / 3 |
| `T[2]` | `0x0e01000000000000` | 0 / 1 | 7 / 3 |
| `T[3]` | `0x0403004000000000` | 0 / 0 | 8 / 3 |
| `Z[0]` | `0x0c01800000000000` | 0 / 0 | 7 / 4 |
| `Z[1]` | `0x0403008000000000` | 1 / 0 | 7 / 3 |
| `Z[2]` | `0x0c01800000000000` | 0 / 1 | 7 / 3 |
| `Z[3]` | `0x0403008000000000` | 0 / 0 | 8 / 3 |


[1] Based on true position, in a `uint64_t` with 4 bits of padding

## Conclusion:

The padding and limit tables are identical for all pieces except O and I, already notable outliers for their even width/height. This will allow us to save space and potentially to precompute certain values. Additionally, the NRS padding/limit table is a subset of the rows from this table.

An additional conclusion is that doing all of this by hand, in my head, is exhausting, and I'm *really* glad I only have to do it once.
